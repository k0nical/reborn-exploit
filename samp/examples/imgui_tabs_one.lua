local imgui = require 'mimgui'
local encoding = require 'encoding'
encoding.default = 'CP1251'
local u8 = encoding.UTF8

local WinState = imgui.new.bool()

imgui.OnFrame(function() return WinState[0] end, function(player)
    imgui.SetNextWindowPos(imgui.ImVec2(500, 500), imgui.Cond.FirstUseEver, imgui.ImVec2(0.5, 0.5))
    imgui.SetNextWindowSize(imgui.ImVec2(245, 280), imgui.Cond.Always)
    imgui.Begin(u8'Пример', WinState, imgui.WindowFlags.NoResize)
    if imgui.BeginTabBar('Tabs') then
        if imgui.BeginTabItem(u8'Первая') then -- задаём название первой вкладки
            -- далее идёт содержимое вкладки
            imgui.Text(u8'Сейчас открыта первая вкладка')
            -- конец содержимого вкладки
            imgui.EndTabItem()
        end
        if imgui.BeginTabItem(u8'Вторая') then -- задаём название второй вкладки
            -- далее идёт содержимое вкладки
            if imgui.Button('Test') then
                sampAddChatMessage('Вы нажали кнопку во второй вкладке',-1)
            end
            -- конец содержимого вкладки
            imgui.EndTabItem()
        end
        imgui.EndTabBar()
    end
    imgui.End()
end)

function main()
    sampRegisterChatCommand('cmd', function() WinState[0] = not WinState[0] end)
    wait(-1)
end
